# ë‹¹ê·¼ë§ˆì¼“ í´ë¡  (Danggeun Clone)

í”¼ê·¸ë§ˆ ë””ìì¸ì„ ê¸°ë°˜ìœ¼ë¡œ í•œ ì¤‘ê³ ê±°ë˜ í’€ìŠ¤íƒ í´ë¡  í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.
<details>
  <summary>ğŸ“¸ ìŠ¤í¬ë¦°ìƒ· ìƒì„¸ë³´ê¸° (í´ë¦­í•˜ì—¬ í¼ì¹˜ê¸°)</summary>
  <br />
  <table align="center">
    <tr>
      <td align="center"><a href="https://github.com/user-attachments/assets/7946b5a8-5ca7-4dae-b63f-3848bb08f18c"><img src="https://github.com/user-attachments/assets/7946b5a8-5ca7-4dae-b63f-3848bb08f18c" width="200" /></a></td>
      <td align="center"><a href="https://github.com/user-attachments/assets/a3ac535a-ebef-4754-8b54-f146995e160f"><img src="https://github.com/user-attachments/assets/a3ac535a-ebef-4754-8b54-f146995e160f" width="200" /></a></td>
      <td align="center"><a href="https://github.com/user-attachments/assets/965126e7-d71b-4464-b5c2-d3e13888b0bf"><img src="https://github.com/user-attachments/assets/965126e7-d71b-4464-b5c2-d3e13888b0bf" width="200" /></a></td>
    </tr>
    <tr>
      <td align="center"><a href="https://github.com/user-attachments/assets/252926fe-6b94-420c-a58e-e912002f48b1"><img src="https://github.com/user-attachments/assets/252926fe-6b94-420c-a58e-e912002f48b1" width="200" /></a></td>
      <td align="center"><a href="https://github.com/user-attachments/assets/5f0bef25-0b62-47af-a190-6c35f5c2df1e"><img src="https://github.com/user-attachments/assets/5f0bef25-0b62-47af-a190-6c35f5c2df1e" width="200" /></a></td>
      <td align="center"><a href="https://github.com/user-attachments/assets/b557baed-f3ad-41c1-8fe6-ad8b9fe88532"><img src="https://github.com/user-attachments/assets/b557baed-f3ad-41c1-8fe6-ad8b9fe88532" width="200" /></a></td>
    </tr>
    <tr>
      <td align="center"><a href="https://github.com/user-attachments/assets/d05612ff-adc8-4328-9a6b-2364168dfecd"><img src="https://github.com/user-attachments/assets/d05612ff-adc8-4328-9a6b-2364168dfecd" width="200" /></a></td>
      <td align="center"><a href="https://github.com/user-attachments/assets/80bb377e-f363-4c21-aa37-71c49220ff75"><img src="https://github.com/user-attachments/assets/80bb377e-f363-4c21-aa37-71c49220ff75" width="200" /></a></td>
      <td align="center"><a href="https://github.com/user-attachments/assets/4d19ad4b-2a3b-4167-a9e8-70a8fd4efc42"><img src="https://github.com/user-attachments/assets/4d19ad4b-2a3b-4167-a9e8-70a8fd4efc42" width="200" /></a></td>
    </tr>
    <tr>
      <td align="center"><a href="https://github.com/user-attachments/assets/6c48f640-2625-4a00-a803-4c08a93b0e2a"><img src="https://github.com/user-attachments/assets/6c48f640-2625-4a00-a803-4c08a93b0e2a" width="200" /></a></td>
      <td align="center"><a href="https://github.com/user-attachments/assets/8ada3325-8171-47e3-ab48-90b718a053ee"><img src="https://github.com/user-attachments/assets/8ada3325-8171-47e3-ab48-90b718a053ee" width="200" /></a></td>
      <td align="center"><a href="https://github.com/user-attachments/assets/52c43ed7-22e8-4369-be8f-2522bd3d29f5"><img src="https://github.com/user-attachments/assets/52c43ed7-22e8-4369-be8f-2522bd3d29f5" width="200" /></a></td>
    </tr>
    <tr>
      <td align="center"><a href="https://github.com/user-attachments/assets/aeb62394-008a-4ec8-8260-20d2403d7b6a"><img src="https://github.com/user-attachments/assets/aeb62394-008a-4ec8-8260-20d2403d7b6a" width="200" /></a></td>
      <td align="center"><a href="https://github.com/user-attachments/assets/6b44fa66-8035-4965-894f-9d928c7fb709"><img src="https://github.com/user-attachments/assets/6b44fa66-8035-4965-894f-9d928c7fb709" width="200" /></a></td>
      <td align="center"><a href="https://github.com/user-attachments/assets/1194988d-be38-44d0-8e85-c763f27ce0ec"><img src="https://github.com/user-attachments/assets/1194988d-be38-44d0-8e85-c763f27ce0ec" width="200" /></a></td>
    </tr>
    <tr>
      <td align="center"><a href="https://github.com/user-attachments/assets/4b070e80-6d28-4ba3-94bc-023364f644c2"><img src="https://github.com/user-attachments/assets/4b070e80-6d28-4ba3-94bc-023364f644c2" width="200" /></a></td>
      <td align="center"><a href="https://github.com/user-attachments/assets/66c341c2-4cbb-45f7-a2d7-e25d9e6ec32d"><img src="https://github.com/user-attachments/assets/66c341c2-4cbb-45f7-a2d7-e25d9e6ec32d" width="200" /></a></td>
      <td align="center"><a href="https://github.com/user-attachments/assets/08eea867-7d1e-43e5-b325-f37afd01a13f"><img src="https://github.com/user-attachments/assets/08eea867-7d1e-43e5-b325-f37afd01a13f" width="200" /></a></td>
    </tr>
    <tr>
      <td align="center"><a href="https://github.com/user-attachments/assets/4bb35121-a980-47b0-a1ed-f0094a43d105"><img src="https://github.com/user-attachments/assets/4bb35121-a980-47b0-a1ed-f0094a43d105" width="200" /></a></td>
      <td align="center"><a href="https://github.com/user-attachments/assets/45ca79db-2305-4b9b-9d15-0949414d6f3d"><img src="https://github.com/user-attachments/assets/45ca79db-2305-4b9b-9d15-0949414d6f3d" width="200" /></a></td>
      <td align="center"><a href="https://github.com/user-attachments/assets/a2d7723b-b548-4075-b135-891d34342ab5"><img src="https://github.com/user-attachments/assets/a2d7723b-b548-4075-b135-891d34342ab5" width="200" /></a></td>
    </tr>
    <tr>
      <td align="center"><a href="https://github.com/user-attachments/assets/14775390-290e-4d2d-8482-0ded3ac513d3"><img src="https://github.com/user-attachments/assets/14775390-290e-4d2d-8482-0ded3ac513d3" width="200" /></a></td>
      <td></td>
      <td></td>
    </tr>
  </table>
</details>

## ê¸°ìˆ  ìŠ¤íƒ

- **Frontend**: React (Vite), TypeScript, Tailwind CSS, Lucide-react, Axios, React Router
- **Backend**: Node.js (Express), TypeScript
- **Database**: MySQL
- **Android**: Capacitor 8 (ì›¹ ë˜í•‘), Java 17 í˜¸í™˜ 

## í”„ë¡œì íŠ¸ êµ¬ì¡°

```
step2/
â”œâ”€â”€ backend/          # Express API (3í‹°ì–´: Controller-Service-Repository)
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ config/   # DB ì—°ê²°
â”‚       â”œâ”€â”€ controllers/
â”‚       â”œâ”€â”€ services/
â”‚       â”œâ”€â”€ repositories/
â”‚       â”œâ”€â”€ dto/
â”‚       â”œâ”€â”€ middleware/  # JWT ì¸ì¦
â”‚       â”œâ”€â”€ routes/
â”‚       â”œâ”€â”€ data/     # Mock (ë™ë„¤ ëª©ë¡ ë“±)
â”‚       â””â”€â”€ types/
â”œâ”€â”€ frontend/         # Vite + React, Capacitor Android
â”‚   â”œâ”€â”€ android/      # Capacitor ë„¤ì´í‹°ë¸Œ Android í”„ë¡œì íŠ¸
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ api/      # Axios í´ë¼ì´ì–¸íŠ¸ (API_BASE, toAbsoluteImageUrl)
â”‚       â”œâ”€â”€ contexts/
â”‚       â”œâ”€â”€ pages/
â”‚       â””â”€â”€ ...
â”œâ”€â”€ database/
â”‚   â””â”€â”€ schema.sql    # MySQL ìŠ¤í‚¤ë§ˆ ë° ì‹œë“œ
â””â”€â”€ README.md
```

## ì‚¬ì „ ìš”êµ¬ì‚¬í•­

- Node.js 18+
- MySQL 8+ 

## ì‹¤í–‰ ë°©ë²•

### 1. ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •

ì‹œë“œ ì‚¬ìš©ì ë¹„ë°€ë²ˆí˜¸: `password123`  
(ì˜ˆ: test@example.com / password123)

### 2. ë˜í•‘ ì‹¤í–‰ (step2 ë£¨íŠ¸ì—ì„œ í•œ ë²ˆì—)

```bash
cd step2
npm install
npm run dev
```

- ë°±ì—”ë“œ API: http://localhost:3001  
- í”„ë¡ íŠ¸ì—”ë“œ: http://localhost:5173  
- `/api` ìš”ì²­ì€ Vite í”„ë¡ì‹œë¡œ ë°±ì—”ë“œ(3001)ë¡œ ì „ë‹¬ë©ë‹ˆë‹¤.

**ë˜í•‘ ìŠ¤í¬ë¦½íŠ¸:**  
| ìŠ¤í¬ë¦½íŠ¸ | ì„¤ëª… |
|---------|------|
| `npm run dev` | ë°±ì—”ë“œÂ·í”„ë¡ íŠ¸ì—”ë“œ ë™ì‹œ ì‹¤í–‰ |
| `npm run dev:backend` | ë°±ì—”ë“œë§Œ ì‹¤í–‰ |
| `npm run dev:frontend` | í”„ë¡ íŠ¸ì—”ë“œë§Œ ì‹¤í–‰ |
| `npm run install:all` | ë£¨íŠ¸ + backend + frontend ì˜ì¡´ì„± ì„¤ì¹˜ |
| `npm run build` | ë°±ì—”ë“œÂ·í”„ë¡ íŠ¸ì—”ë“œ ë¹Œë“œ |
| `npm run test` | ë°±ì—”ë“œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ |

### 3. ê°œë³„ ì‹¤í–‰ (backend / frontendë§Œ)

**ë°±ì—”ë“œë§Œ:**

```bash
cd backend
npm install
cp .env.example .env   # í•„ìš” ì‹œ .env ìˆ˜ì •
npm run dev
```

- API ì„œë²„: http://localhost:3001

**í”„ë¡ íŠ¸ì—”ë“œë§Œ:**

```bash
cd frontend
npm install
npm run dev
```

- ì›¹ ì•±: http://localhost:5173

## Capacitor Android ì•± (ë˜í•‘ ì™„ë£Œ Â· ì‹¤ê¸°ê¸° ë™ì‘ í™•ì¸ë¨)

ì›¹ í”„ë¡œì íŠ¸ë¥¼ Capacitorë¡œ ê°ì‹¼ Android ì•±ìœ¼ë¡œ ë¹Œë“œÂ·ì‹¤í–‰í•  ìˆ˜ ìˆìœ¼ë©°, **ì‹¤ê¸°ê¸°ì—ì„œ ë¡œê·¸ì¸Â·íšŒì›ê°€ì…Â·ì´ë¯¸ì§€ ë¡œë“œÂ·ì±„íŒ… ì´ë¯¸ì§€ê¹Œì§€ ì •ìƒ ë™ì‘**í•©ë‹ˆë‹¤.

**ì‚¬ì „ ìš”êµ¬ì‚¬í•­:** Android Studio, JDK 17+ (Java 21 ë¯¸ì„¤ì¹˜ ì‹œì—ë„ ë¹Œë“œ ê°€ëŠ¥í•˜ë„ë¡ í”„ë¡œì íŠ¸ì—ì„œ Java 17ë¡œ í†µì¼ë¨)

### Android ë˜í•‘ ì‘ì—… ìš”ì•½

| êµ¬ë¶„ | ì ìš© ë‚´ìš© |
|------|-----------|
| **ë¹Œë“œ** | `frontend/android/build.gradle`: ëª¨ë“  ì„œë¸Œí”„ë¡œì íŠ¸ Java 17ë¡œ í†µì¼ (Java 21 ë¯¸ì§€ì› í™˜ê²½ ëŒ€ì‘) |
| **ë°±ì—”ë“œ** | CORS `origin: '*'`, `0.0.0.0` listen, ì—…ë¡œë“œ ì‘ë‹µì€ ìƒëŒ€ ê²½ë¡œ `/uploads/...` ë°˜í™˜. `/uploads` ì •ì  íŒŒì¼ì— CORS í—¤ë” ëª…ì‹œ |
| **API ì£¼ì†Œ** | `VITE_API_URL` ì—†ìœ¼ë©´ ë¹Œë“œ ì‹œ ê¸°ë³¸ `http://172.30.1.71:3001` ì‚¬ìš©. ë…¸íŠ¸ë¶ IPëŠ” `ipconfig`ë¡œ í™•ì¸ í›„ `frontend/.env`ì— ì„¤ì • |
| **ë„¤íŠ¸ì›Œí¬** | `network_security_config.xml`: 172.30.1.71, 172.30.1.82, localhost, 10.0.2.2 ë“± HTTP(cleartext) í—ˆìš© |
| **ì•±** | `AndroidManifest`: `usesCleartextTraffic="true"`, `MainActivity`: WebView `MIXED_CONTENT_ALWAYS_ALLOW` (capacitor â†’ http API ìš”ì²­ í—ˆìš©) |
| **ì´ë¯¸ì§€** | `toAbsoluteImageUrl`: DBì˜ localhost/127.0.0.1 URL â†’ API_BASE ê¸°ì¤€ìœ¼ë¡œ ì¹˜í™˜. `ImageWithFallback`ì—ì„œ **API ì´ë¯¸ì§€ëŠ” fetch â†’ blob URL**ë¡œ í‘œì‹œ(WebView img ì°¨ë‹¨ ìš°íšŒ). ì±„íŒ… ì „ì†¡ ì´ë¯¸ì§€ë„ ë™ì¼ ì»´í¬ë„ŒíŠ¸ ì‚¬ìš© |
| **UI** | ìƒë‹¨ safe-areaëŠ” `#root`ì— ì ìš©í•´ ìŠ¤í¬ë¡¤ ì‹œ ìœ„ ë¹ˆ ê³µê°„ ì—†ìŒ. í•˜ë‹¨ ë„¤ë¹„ëŠ” `--nav-safe-bottom`(32px ì´ìƒ)ìœ¼ë¡œ ì‹œìŠ¤í…œ ë°”ì— ê°€ë¦¬ì§€ ì•ŠìŒ. í°íŠ¸ Pretendard(CDN) ì ìš© |

### ì´ˆê¸° ì„¤ì • (ì´ë¯¸ ì™„ë£Œëœ ìƒíƒœ)

- `frontend`ì— `@capacitor/core`, `@capacitor/cli`, `@capacitor/android` ì„¤ì¹˜ë¨
- `frontend/capacitor.config.ts`: ì•± ID `com.danggeun.clone`, ì•± ì´ë¦„ `ë‹¹ê·¼ë§ˆì¼“ í´ë¡ `, ì›¹ ë¹Œë“œ ê²°ê³¼ë¬¼ `dist`
- `frontend/android/`: ë„¤ì´í‹°ë¸Œ Android í”„ë¡œì íŠ¸

### Android ì•± ë¹Œë“œÂ·ì‹¤í–‰

**ê¶Œì¥: frontend í´ë”ì—ì„œ ì‹¤í–‰**

```bash
cd frontend
npm run build       # ì›¹ ë¹Œë“œ (dist ìƒì„±)
npx cap sync        # dist â†’ android/assets ë™ê¸°í™”
npx cap open android   # Android Studioì—ì„œ ì—´ê¸°
# ë˜ëŠ” í„°ë¯¸ë„ì—ì„œ ë°”ë¡œ ì‹¤í–‰: npx cap run android (frontend í´ë”ì—ì„œ)
```

> âš ï¸ `npx cap run android` / `npx cap sync`ëŠ” **ë°˜ë“œì‹œ frontend ë””ë ‰í„°ë¦¬**ì—ì„œ ì‹¤í–‰í•˜ì„¸ìš”. ë£¨íŠ¸(step2)ì—ì„œ ì‹¤í–‰í•˜ë©´ `npm run build --prefix frontend` í›„ `cd frontend && npx cap sync` ì²˜ëŸ¼ frontend ê¸°ì¤€ìœ¼ë¡œ í•´ì•¼ í•©ë‹ˆë‹¤.

Android Studioì—ì„œ **Run**ìœ¼ë¡œ ì—ë®¬ë ˆì´í„° ë˜ëŠ” ì‹¤ê¸°ê¸°ì—ì„œ ì‹¤í–‰í•©ë‹ˆë‹¤.

### ì‹¤ê¸°ê¸°ì—ì„œ API ì—°ê²° (ê°™ì€ Wiâ€‘Fi)

1. **ë…¸íŠ¸ë¶ IP í™•ì¸**  
   ë°±ì—”ë“œë¥¼ ì‹¤í–‰í•˜ëŠ” PCì—ì„œ `ipconfig`(Windows)ë¡œ **IPv4 ì£¼ì†Œ** í™•ì¸ (ì˜ˆ: 172.30.1.71).

2. **API ì£¼ì†Œ ì„¤ì •**  
   - `frontend/.env`ì— `VITE_API_URL=http://ë…¸íŠ¸ë¶IP:3001` (ì˜ˆ: `http://172.30.1.71:3001`)  
   - ì—†ìœ¼ë©´ ì½”ë“œ ê¸°ë³¸ê°’ `http://172.30.1.71:3001`ì´ ë¹Œë“œì— ë“¤ì–´ê°‘ë‹ˆë‹¤. PC IPê°€ ë‹¤ë¥´ë©´ `.env`ë¡œ ë§ì¶”ì„¸ìš”.

3. **ë°±ì—”ë“œ ì‹¤í–‰**  
   `cd backend && npm run dev` â†’ 3001 í¬íŠ¸ì—ì„œ ì„œë²„ ì‹¤í–‰ (LAN ì ‘ì†ì„ ìœ„í•´ `0.0.0.0` listen).

4. **ë°©í™”ë²½**  
   Windowsì—ì„œ 3001 í¬íŠ¸ ì¸ë°”ìš´ë“œ í—ˆìš©. (ê´€ë¦¬ì PowerShell: `New-NetFirewallRule -DisplayName "Node 3001" -Direction Inbound -LocalPort 3001 -Protocol TCP -Action Allow`)

5. **ì•± ë‹¤ì‹œ ë¹Œë“œ**  
   `.env` ë˜ëŠ” API ê¸°ë³¸ê°’ì„ ë°”ê¾¼ ê²½ìš° ë°˜ë“œì‹œ `npm run build` â†’ `npx cap sync` í›„ ì•±ì„ ë‹¤ì‹œ ì‹¤í–‰í•´ì•¼ í•©ë‹ˆë‹¤.

- **ì—ë®¬ë ˆì´í„°**: `VITE_API_URL=http://10.0.2.2:3001` ë¡œ ì„¤ì • í›„ ë¹Œë“œÂ·sync.

### íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

| í˜„ìƒ | í™•ì¸Â·ì¡°ì¹˜ |
|------|-----------|
| ë¡œê·¸ì¸/íšŒì›ê°€ì… "ì„œë²„ì— ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤" | í°ê³¼ ë…¸íŠ¸ë¶ì´ ê°™ì€ Wiâ€‘Fiì¸ì§€, ë°±ì—”ë“œ ì‹¤í–‰ ì—¬ë¶€, ë…¸íŠ¸ë¶ IPê°€ `.env`/ê¸°ë³¸ê°’ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸. ë°©í™”ë²½ì—ì„œ 3001 í—ˆìš©. |
| ì´ë¯¸ì§€ ì•ˆ ë‚˜ì˜´ | ì•±ì—ì„œëŠ” API ì´ë¯¸ì§€ë¥¼ fetch â†’ blob URLë¡œ í‘œì‹œí•¨. DBì— localhostë¡œ ì €ì¥ëœ ê¸°ì¡´ URLë„ í™”ë©´ í‘œì‹œ ì‹œ API_BASEë¡œ ì¹˜í™˜ë¨. ê°™ì€ Wiâ€‘FiÂ·ë°±ì—”ë“œ ì‹¤í–‰Â·ë°©í™”ë²½ í™•ì¸ í›„ ì•± ì¬ë¹Œë“œ. |
| í•˜ë‹¨ ë©”ë‰´ë°”ê°€ ì‹œìŠ¤í…œ ë°”ì— ê°€ë¦¼ | `--nav-safe-bottom`(ìµœì†Œ 32px) ì ìš©ë¨. ì—¬ì „íˆ ê°€ë¦¬ë©´ `frontend/src/index.css`ì—ì„œ 32pxì„ ë” í‚¤ì›Œ ë³´ì„¸ìš”. |
| ë§¨ ìœ„ë¡œ ìŠ¤í¬ë¡¤ ì‹œ ìœ„ì— ë¹ˆ ê³µê°„ | ìƒë‹¨ safe-areaë¥¼ `#root`ì— ë‘ì–´ ìŠ¤í¬ë¡¤ ì‹œ ê°™ì´ ì˜¬ë¼ê°€ë„ë¡ ë˜ì–´ ìˆìŒ. `overscroll-behavior-y: none`ìœ¼ë¡œ bounce êµ¬ê°„ ìµœì†Œí™”. |

### í”„ë¡ íŠ¸ì—”ë“œ Capacitor ìŠ¤í¬ë¦½íŠ¸

| ìŠ¤í¬ë¦½íŠ¸ | ì„¤ëª… |
|---------|------|
| `npm run cap:sync` | `dist` â†’ Android í”„ë¡œì íŠ¸ë¡œ ë™ê¸°í™” (frontend í´ë”ì—ì„œ ì‹¤í–‰) |
| `npm run cap:android` | Android í”Œë«í¼ ì¶”ê°€ (ì´ë¯¸ ì¶”ê°€ë¨) |
| `npm run cap:open:android` | Android Studioì—ì„œ android í”„ë¡œì íŠ¸ ì—´ê¸° |

## API ëª©ë¡

### ì¸ì¦

| Method | Path | ì¸ì¦ | ì„¤ëª… |
|--------|------|------|------|
| POST | /api/auth/signup | - | íšŒì›ê°€ì… (ì´ë©”ì¼ í˜•ì‹Â·ë¹„ë°€ë²ˆí˜¸ 6ì ì´ìƒÂ·ë™ë„¤ ì„ íƒ) |
| POST | /api/auth/login | - | ë¡œê·¸ì¸ (JWT ë°œê¸‰) |
| GET | /api/auth/me | Bearer | í˜„ì¬ ë¡œê·¸ì¸ ì‚¬ìš©ì ì •ë³´ (í† í° ë³µì›ìš©) |
| PATCH | /api/auth/me | Bearer | í”„ë¡œí•„ ìˆ˜ì • (nickname, locationName, locationCode) |

### ê²Œì‹œê¸€

| Method | Path | ì¸ì¦ | ì„¤ëª… |
|--------|------|------|------|
| GET | /api/posts | - | ëª©ë¡ (page, limit, locationCode, status, **keyword** ê²€ìƒ‰) |
| GET | /api/posts/:id | - | ìƒì„¸ (ì¡°íšŒìˆ˜ +1) |
| POST | /api/posts | Bearer | ì‘ì„± |
| PUT | /api/posts/:id | Bearer | ìˆ˜ì • (ë³¸ì¸ë§Œ) |
| DELETE | /api/posts/:id | Bearer | ì‚­ì œ (ë³¸ì¸ë§Œ) |
| PATCH | /api/posts/:id/status | Bearer | ìƒíƒœ ë³€ê²½ SALE/RESERVED/SOLD (ë³¸ì¸ë§Œ) |

### ì°œ (ì¦ê²¨ì°¾ê¸°)

| Method | Path | ì¸ì¦ | ì„¤ëª… |
|--------|------|------|------|
| GET | /api/favorites | Bearer | ì°œí•œ ê²Œì‹œê¸€ ëª©ë¡ |
| GET | /api/favorites/check/:postId | Bearer | í•´ë‹¹ ê¸€ ì°œ ì—¬ë¶€ |
| POST | /api/favorites/toggle/:postId | Bearer | ì°œ ì¶”ê°€/í•´ì œ í† ê¸€ |

### ì±„íŒ…

| Method | Path | ì¸ì¦ | ì„¤ëª… |
|--------|------|------|------|
| POST | /api/chat/rooms | Bearer | ì±„íŒ…ë°© ìƒì„± ë˜ëŠ” ê¸°ì¡´ ë°© ID ë°˜í™˜ (body: postId) |
| GET | /api/chat/rooms | Bearer | ë‚´ ì±„íŒ…ë°© ëª©ë¡ |
| GET | /api/chat/rooms/:roomId/messages | Bearer | ë©”ì‹œì§€ ëª©ë¡ (query: limit, beforeId) |
| POST | /api/chat/rooms/:roomId/messages | Bearer | ë©”ì‹œì§€ ì „ì†¡ (body: content) |

**ì‹¤ì‹œê°„ ì±„íŒ…**: Socket.io WebSocket (`/socket.io`) ì—°ê²° í›„, `auth.token`ìœ¼ë¡œ ì¸ì¦í•˜ê³  `join_room`(roomId), `send_message`(roomId, content) ì´ë²¤íŠ¸ ì‚¬ìš©. ì„œë²„ëŠ” `new_message`, `chat_list_updated` ì´ë²¤íŠ¸ë¥¼ ì „ì†¡í•©ë‹ˆë‹¤.

### ì´ë¯¸ì§€ ì—…ë¡œë“œ

| Method | Path | ì¸ì¦ | ì„¤ëª… |
|--------|------|------|------|
| POST | /api/upload | Bearer | ë‹¨ì¼ ì´ë¯¸ì§€ ì—…ë¡œë“œ (multipart, field: `image`). ì‘ë‹µ: `{ url }` |

- ì—…ë¡œë“œëœ íŒŒì¼ì€ `uploads/` ë””ë ‰í„°ë¦¬ì— ì €ì¥ë˜ë©°, `GET /uploads/:filename`ìœ¼ë¡œ ì œê³µë©ë‹ˆë‹¤.
- `API_BASE_URL`ì´ ì—†ìœ¼ë©´ ì‘ë‹µì€ ìƒëŒ€ ê²½ë¡œ `/uploads/:filename`ìœ¼ë¡œ ë°˜í™˜ë˜ë©°, ì•±ì—ì„œ `API_BASE`ë¥¼ ë¶™ì—¬ ë¡œë“œí•©ë‹ˆë‹¤. ë°°í¬ ì‹œ `API_BASE_URL`ì„ ì„¤ì •í•˜ë©´ ì ˆëŒ€ URLë¡œ ë°˜í™˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ìœ„ì¹˜ (Mock)

| Method | Path | ì„¤ëª… |
|--------|------|------|
| GET | /api/locations | ë™ë„¤ ëª©ë¡ (í•„í„°ìš©) |

## í™˜ê²½ ë³€ìˆ˜ (ë°±ì—”ë“œ .env)

- `PORT`: ì„œë²„ í¬íŠ¸ (ê¸°ë³¸ 3001)
- `DB_HOST`, `DB_PORT`, `DB_USER`, `DB_PASSWORD`, `DB_NAME`: MySQL ì—°ê²°
- `JWT_SECRET`, `JWT_EXPIRES_IN`: JWT ì„¤ì •
- `NODE_ENV`: development | production (config/env.tsì—ì„œ ì‚¬ìš©)
- `UPLOAD_DIR`: ì—…ë¡œë“œ ì €ì¥ í´ë” (ê¸°ë³¸ `uploads`)
- `API_BASE_URL`: ì—…ë¡œë“œ URL ë°˜í™˜ ì‹œ ê¸°ì¤€ URL (ê¸°ë³¸ `http://localhost:3001`)
- `CORS_ORIGIN`: productionì—ì„œ í—ˆìš©í•  origin (ì‰¼í‘œ êµ¬ë¶„). ë¹„ì–´ ìˆìœ¼ë©´ CORSëŠ” ì œí•œ ì—†ìŒ

## ê²€ì¦Â·ë¡œê¹…Â·í…ŒìŠ¤íŠ¸

- **ìš”ì²­ ê²€ì¦**: express-validatorë¡œ íšŒì›ê°€ì…/ë¡œê·¸ì¸/ê²Œì‹œê¸€Â·**ì±„íŒ…Â·ì°œ** body/param ê²€ì¦
- **Rate limit**: `/api/auth` 15ë¶„ë‹¹ 30íšŒ, `/api` 1ë¶„ë‹¹ 120íšŒ (express-rate-limit)
- **500 ì‘ë‹µ**: productionì—ì„œëŠ” ìƒì„¸ ë©”ì‹œì§€ ë¹„ë…¸ì¶œ, ê³ ì • ë¬¸êµ¬ ì‚¬ìš©
- **êµ¬ì¡°í™” ë¡œê¹…**: ìš”ì²­ë³„ requestId, method, path, statusCode, durationMs, userId (JSON í•œ ì¤„)
- **ë‹¨ìœ„ í…ŒìŠ¤íŠ¸**: `backend`ì—ì„œ `npm test` (Jest: auth.service, post.service, **favorite.service**, **chat.service**)

## ì£¼ìš” ê¸°ëŠ¥

- ë¡œê·¸ì¸ / íšŒì›ê°€ì… (JWT), **í”„ë¡œí•„ ìˆ˜ì • (ë™ë„¤Â·ë‹‰ë„¤ì„)**
- ê²Œì‹œê¸€ CRUD, **ê²€ìƒ‰(keyword)**, **ë¬´í•œ ìŠ¤í¬ë¡¤**, ìƒí’ˆ ìƒíƒœ ë³€ê²½
- **ì°œ** (ì¶”ê°€/í•´ì œ/ëª©ë¡)
- **ì±„íŒ…** (ë°© ìƒì„±, ëª©ë¡, ë©”ì‹œì§€ ì¡°íšŒ/ì „ì†¡), **WebSocket ì‹¤ì‹œê°„ ë©”ì‹œì§€Â·ì±„íŒ… ëª©ë¡ ê°±ì‹ **
- **ì´ë¯¸ì§€ ì—…ë¡œë“œ** (ê¸€ì“°ê¸°/ìˆ˜ì • ì‹œ)
- ë™ë„¤(ìœ„ì¹˜) ê¸°ë°˜ í•„í„°ë§ (Mock ë°ì´í„°)
- ëª¨ë°”ì¼ í¼ìŠ¤íŠ¸ UI (Figma ë””ìì¸ ì‹œìŠ¤í…œ, Pretendard í°íŠ¸)
- **Android ì•±**: Capacitor ë˜í•‘, ì‹¤ê¸°ê¸°ì—ì„œ ë™ì¼ Wiâ€‘Fi ë…¸íŠ¸ë¶ ë°±ì—”ë“œ ì—°ê²°Â·ì´ë¯¸ì§€(ëª©ë¡/ì±„íŒ…) ë¡œë“œÂ·í•˜ë‹¨ ë„¤ë¹„ ì„¸ì´í”„ ì˜ì—­ Â· **ì‹¤ê¸°ê¸° ë™ì‘ í™•ì¸ ì™„ë£Œ**

ê²°ì œ ê¸°ëŠ¥ì€ í¬í•¨ë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤.

---

## ì½”ë“œ ì ê²€ ìš”ì•½ (Android ë˜í•‘ ê¸°ì¤€)

| ì˜ì—­ | íŒŒì¼ | ì ê²€ ë‚´ìš© |
|------|------|-----------|
| ë°±ì—”ë“œ CORSÂ·Listen | `backend/src/app.ts`, `backend/src/index.ts` | CORS `origin: '*'`, `server.listen(PORT, '0.0.0.0')` |
| ë°±ì—”ë“œ ì—…ë¡œë“œ URL | `backend/src/routes/upload.routes.ts` | `publicBaseUrl` ì—†ì„ ë•Œ ìƒëŒ€ ê²½ë¡œ `/uploads/...` ë°˜í™˜ |
| í”„ë¡ íŠ¸ APIÂ·ì´ë¯¸ì§€ | `frontend/src/api/client.ts`, `frontend/src/utils/image.ts`, `ImageWithFallback.tsx` | `API_BASE` ê¸°ë³¸ê°’(ëª¨ë°”ì¼ìš©), `toAbsoluteImageUrl`(localhost/ìƒëŒ€ â†’ ì ˆëŒ€ URL), API ì´ë¯¸ì§€ fetchâ†’blob í‘œì‹œ |
| í”„ë¡ íŠ¸ ë ˆì´ì•„ì›ƒ | `frontend/src/index.css`, `frontend/src/components/MainLayout.tsx` | `#root`ì—ë§Œ ìƒë‹¨ safe-area, í•˜ë‹¨ `--nav-safe-bottom`, `overscroll-behavior-y: none` |
| Android ë¹Œë“œ | `frontend/android/build.gradle` | ì„œë¸Œí”„ë¡œì íŠ¸ Java 17 í†µì¼ |
| Android ë„¤íŠ¸ì›Œí¬ | `frontend/android/.../network_security_config.xml`, `AndroidManifest.xml` | HTTP(cleartext) í—ˆìš© ë„ë©”ì¸, `usesCleartextTraffic` |
| Android WebView | `frontend/android/.../MainActivity.java` | `MIXED_CONTENT_ALWAYS_ALLOW` ì ìš© |




