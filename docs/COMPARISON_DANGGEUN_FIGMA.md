# 당근마켓·Figma 대비 점검 – 부족한 부분 / 추가 기능

실제 당근마켓 앱·서비스와 Figma 디자인 시스템을 기준으로, 현재 클론과 비교한 **부족한 부분**과 **추가하면 좋은 기능**을 정리했습니다.

---

## 1. 당근마켓 대비 부족·차이

### 1.1 네비게이션·정보 구조

| 당근마켓 | 현재 클론 | 권장 |
|----------|-----------|------|
| 하단 탭 4개: **홈 / 동네생활 / 채팅 / 나의당근** | 홈 / 찜 / 채팅 3개 (나의당근 없음) | "나의당근" 탭 추가 후, **판매·구매 내역**, **관심목록(찜)**, **프로필**을 한 곳에서 진입하도록 구성 검토 |
| 나의당근에서 판매중/예약중/판매완료 **내가 올린 글** 목록 | 없음 (상세에서만 수정·삭제) | **내 게시글 목록** 페이지 또는 탭 추가 |
| 동네생활(커뮤니티) 탭 | 없음 | 요구사항 범위에 없으면 생략 가능 |

### 1.2 게시글 상세

| 당근마켓 | 현재 클론 | 권장 |
|----------|-----------|------|
| 이미지 **여러 장 스와이프** + 인디케이터(1/5 등) | **첫 번째 이미지 1장만** 표시 | `imageUrls` 배열 활용해 **이미지 갤러리(스와이프/인디케이터)** 구현 |
| **공유하기** 버튼 | 없음 | Web Share API 또는 복사 링크로 **공유하기** 추가 |
| **신고하기** | 없음 | 신고 API + 버튼(선택) |
| **키워드 알림** (관심 키워드 등록 시 알림) | 없음 | 장기 기능으로 검토 |

### 1.3 목록·필터

| 당근마켓 | 현재 클론 | 권장 |
|----------|-----------|------|
| **카테고리** 필터 (디지털기기, 가구 등) | 스키마에 `category`만 있고 **필터 UI 없음** | 홈 또는 목록에 **카테고리 선택/필터** 추가 (API는 status/keyword만 있음 → category 쿼리 추가 필요) |
| 정렬 (최신순/가격순 등) | 없음 | `GET /api/posts`에 sort 파라미터 추가 후 **정렬 UI** 연결 |

### 1.4 채팅

| 당근마켓 | 현재 클론 | 권장 |
|----------|-----------|------|
| **읽음 표시** (1명이 읽음 등) | 없음 | `chat_messages` 또는 별도 테이블에 읽음 정보 저장 + **읽음 표시 UI** (선택) |
| 목록에 **상대 시간** (n분 전, 어제) | `lastAt`을 날짜만 표시 | **상대 시간** 유틸 (예: "5분 전", "어제") 적용 |
| 채팅방 상단에 **게시글 정보** (썸네일+제목+가격) | 없음 | 채팅방 헤더 또는 상단에 **해당 게시글 카드/링크** 노출 |

### 1.5 프로필·동네

| 당근마켓 | 현재 클론 | 권장 |
|----------|-----------|------|
| **동네 인증** (위치 기반 인증 플로우) | 동네 선택만 (Mock 목록) | 실제 지도/위치 API 연동 시 **동네 인증** 플로우 검토 |
| **프로필 이미지** 변경 | 스키마에 `profile_image_url` 있으나 **업로드/수정 UI 없음** | 프로필 수정에서 **프로필 이미지 업로드** (기존 upload API 활용) |
| **판매 내역** (내가 올린 글) | 없음 | **내 게시글 목록** API + 페이지 |

### 1.6 기타

| 당근마켓 | 현재 클론 | 권장 |
|----------|-----------|------|
| **알림** (채팅, 키워드 등) | 없음 | 푸시/알림은 별도 스펙으로 검토 |
| **결제** (당근페이 등) | 요구사항에서 제외 | 제외 유지 |

---

## 2. Figma 디자인 시스템 대비 부족·보강

### 2.1 디자인 토큰

| Figma 관례 | 현재 클론 | 권장 |
|------------|-----------|------|
| **간격 시스템** (4/8px 그리드) | Tailwind `gap-2`, `p-4` 등 사용 중 | `spacing`을 4px 단위로 통일해 두었는지 한 번 더 점검 (이미 대체로 4 단위 사용) |
| **border-radius** 통일 | `rounded-lg`, `rounded-xl` 등 혼용 | Figma에 정의된 radius 토큰이 있으면 tailwind `theme.borderRadius`에 매핑 |
| **그림자** (elevation) | 플로팅 버튼에 `shadow-lg` 등 | 카드/버튼별 elevation이 Figma에 있으면 `boxShadow` 토큰으로 통일 |

### 2.2 컴포넌트·UI

| 항목 | 현재 | 권장 |
|------|------|------|
| **로딩** | "로딩 중..." 텍스트만 | **스켈레톤** 또는 **스피너** (Figma에 스타일 있으면 동일 적용) |
| **빈 상태** | 텍스트만 ("아직 게시글이 없어요" 등) | **일러스트/아이콘 + 문구** (Figma empty state 디자인 있으면 적용) |
| **이미지 로드 실패** | `img`만 사용, 실패 시 빈 영역 가능 | **onError** 시 placeholder 또는 "이미지 없음" 처리 |
| **버튼** | 인라인 스타일 다수 | **공통 Button** 컴포넌트 (variant: primary/secondary/ghost 등)로 정리하면 Figma와 일치하기 쉬움 |
| **입력 필드** | 페이지별로 비슷한 스타일 반복 | **Input, Select** 공통 컴포넌트로 추출 후 Figma 스타일 반영 |

### 2.3 접근성·반응

| 항목 | 현재 | 권장 |
|------|------|------|
| **포커스 링** | `focus:ring-2 focus:ring-point-0` 등 사용 | 키보드 포커스 시 링이 Figma 스타일과 일치하는지 확인 |
| **aria** | 일부만 (aria-label 등) | 버튼/폼에 **aria-label**, 필수 필드 **aria-required** 등 보강 |
| **safe area** | `safe-area-pb` 등 일부 사용 | 하단 nav 등에서 노치/홈 인디케이터 대응 확인 |

---

## 3. 우선 적용 추천 (우선순위)

### 높음 (당근·Figma 모두에서 체감 큼)

1. **게시글 상세 이미지 갤러리**  
   - 여러 장 스와이프 + 인디케이터 (1/5 등).  
   - 데이터는 이미 `imageUrls` 배열로 있음.

2. **이미지 로드 실패 처리**  
   - 목록/상세 모든 `img`에 `onError` → placeholder 또는 "이미지 없음" 처리.

3. **로딩 UI 개선**  
   - 목록/상세에서 텍스트 대신 **스켈레톤** 또는 **스피너** (Figma에 정의된 것이 있으면 그대로 사용).

### 중간 (UX·완성도)

4. **카테고리 필터**  
   - 백엔드 `GET /api/posts?category=...` 지원 후, 홈에 카테고리 선택 UI 추가.

5. **채팅방 상단 게시글 정보**  
   - 해당 `postId`로 제목/썸네일/가격 조회 후 채팅방 상단에 카드/링크로 표시.

6. **내 게시글 목록**  
   - "나의당근" 또는 프로필에서 **내가 올린 글** 목록 API + 페이지.

7. **공유하기**  
   - 게시글 상세에 **공유** 버튼 (Web Share API 또는 클립보드 복사).

### 낮음 (있으면 좋은 수준)

8. **나의당근 탭**  
   - 하단에 4번째 탭 추가 후, 내 글/찜/프로필 진입점 통합.

9. **채팅 상대 시간**  
   - "n분 전", "어제" 등 상대 시간 표시.

10. **프로필 이미지 업로드**  
    - 프로필 수정 시 이미지 업로드 + `profile_image_url` 반영.

11. **빈 상태 일러스트**  
    - Figma에 empty state 디자인이 있으면 적용.

12. **공통 컴포넌트**  
    - Button, Input, Card 등으로 추출 후 Figma 스타일과 정합성 맞추기.

---

## 4. 이미 잘 반영된 부분

- **색상·타이포**: Tailwind에 point/gray/error, display-1/body-14 등 Figma 계열 토큰 반영.
- **모바일 퍼스트**: max-w-mobile, 세로 중심 레이아웃.
- **하단 탭 + 플로팅 글쓰기**: 당근과 유사한 구조.
- **실시간 채팅**: WebSocket, 채팅 목록 갱신.
- **찜·검색·무한 스크롤·동네 선택**: 핵심 플로우 구현됨.

---

## 5. 정리

- **당근 대비**: 이미지 갤러리, 카테고리, 내 게시글 목록, 채팅 UX(게시글 정보/상대 시간), 공유·프로필 이미지가 보강 포인트.
- **Figma 대비**: 로딩/빈 상태/이미지 실패 처리, 공통 컴포넌트, 간격·radius·shadow 정리는 디자인 시스템과의 일치도를 높여 줌.

우선순위 높음부터 적용하면 당근과 Figma 모두에 가깝게 다듬을 수 있습니다.
