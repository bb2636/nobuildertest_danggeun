# 동작 확인 가이드

로컬에서 백엔드·프론트엔드 실행 후 아래 순서대로 동작을 확인하세요.

## 1. 사전 준비

### MySQL 실행 및 DB 적용

- MySQL 서버 실행 (root / 1234, DB: `danggeun`)
- 스키마 적용:
  ```bash
  mysql -u root -p1234 danggeun < database/schema.sql
  ```

### 백엔드 실행

```bash
cd backend
npm install
npm run dev
```

- 정상 시: `[backend] Server running at http://localhost:3001` 출력
- 헬스체크: 브라우저에서 http://localhost:3001/health → `{"ok":true,"db":"healthy"}`

### 프론트엔드 실행

```bash
cd frontend
npm install
npm run dev
```

- 정상 시: http://localhost:5173 에서 앱 접속 가능

---

## 2. 테스트 계정 (시드 데이터)

| 이메일 | 비밀번호 | 비고 |
|--------|----------|------|
| test@example.com | password123 | 테스트유저 (역삼동) |
| user2@example.com | password123 | 동네이웃 (송도동) |
| demo@danggeun.com | password123 | 당근유저 (역삼동) |

---

## 3. 확인 체크리스트

### 로그인 / 회원가입

- [ ] http://localhost:5173 접속 시 로그인 페이지로 리다이렉트
- [ ] `test@example.com` / `password123` 로 로그인 → 홈(피드)으로 이동
- [ ] (선택) 회원가입 후 로그인

### 홈(게시글 목록)

- [ ] 홈에서 시드 게시글 3개 노출 (위치 필터 있을 수 있음)
- [ ] 게시글 클릭 시 상세 페이지로 이동

### 게시글 상세 · 찜 · 채팅

- [ ] **본인 글이 아닐 때**: 하단에 **찜하기**, **채팅하기** 버튼 노출
- [ ] **찜하기** 클릭 → 버튼이 "찜 해제"로 바뀜
- [ ] **채팅하기** 클릭 → 해당 게시물 작성자와의 채팅방으로 이동 (`/chat/:roomId`)
- [ ] 채팅방에서 메시지 입력 후 전송 → 메시지 목록에 표시
- [ ] **본인 글일 때**: 상태 변경(판매중/예약중/판매완료), 수정하기, 삭제하기 버튼 노출

### 찜 목록

- [ ] 하단 메뉴에서 **찜** 탭 클릭 → 찜한 게시글만 목록에 표시
- [ ] 찜 해제한 글은 찜 목록에서 사라짐

### 채팅 목록

- [ ] 하단 메뉴에서 **채팅** 탭 클릭 → 나눴던 채팅방 목록 노출
- [ ] 채팅방 클릭 → 해당 채팅방 화면으로 이동, 이전 메시지 조회 가능

### 기타

- [ ] 글쓰기 버튼으로 새 게시글 작성 (이미지 업로드 시 `/api/upload` 사용)
- [ ] 게시글 수정·삭제 (본인 글만)

---

## 4. 문제 발생 시

- **백엔드 503 / db unhealthy**: MySQL 실행 여부, `.env`의 DB 접속 정보 확인
- **로그인 실패**: 시드 데이터 적용 여부, 비밀번호 `password123` 확인
- **찜/채팅 401**: 로그인 상태 확인 (토큰 만료 시 재로그인)
- **CORS/네트워크 에러**: 프론트는 반드시 http://localhost:5173 로 접속 (Vite 프록시로 `/api` → 3001)

---

동작 확인 중 버그나 이상이 있으면 증상(화면·에러 메시지·재현 절차)을 알려주시면 수정 방향을 제안하겠습니다.
